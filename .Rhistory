library(twitteR)
library(maps)
    reqURL <- "https://api.twitter.com/oauth/request_token"
            accessURL <- "http://api.twitter.com/oauth/access_token"
            authURL <- "http://api.twitter.com/oauth/authorize"
            consumerKey <- "DrLL7PfIzW66t0sMUPPFvA"
            consumerSecret <- "IDLFOfvQ9AQlFA2wQ70gTxR1VJufjH2ZntTXXU0L8"
            twitCred <- OAuthFactory$new(consumerKey=consumerKey,
                                         consumerSecret=consumerSecret,
                                         requestURL=reqURL,
                                         accessURL=accessURL,
                                         authURL=authURL)
    twitCred$handshake()
            registerTwitterOAuth(twitCred)
twListToDF(searchTwitter('hola',geocode='45.76,8.5565,100km',n=2000))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
#
kk$text
kk$screenName
twListToDF(searchTwitter('javi',geocode='45.76,8.5565,100km',n=2000))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
q()
!is.na(kk[,15])->ind
kk2<-kk[ind,]
kk215<-as.numeric(kk2[,15])
kk216<-as.numeric(kk2[,16])
kk3<-as.data.frame(cbind(kk215,kk216))
kk3
kk
kk$text
k3
kk3
write.table(kk3,data.csv,sep='|',row.names=F)
write.table(kk3,'data.csv',sep='|',row.names=F)
names(kk)
q()
names(kk)
kk$created
names(kk)
kk$id
names(kk)
kk$statusSource
names(kk)
kk$screenName
names(kk)
library(twitteR)
library(maps)
    reqURL <- "https://api.twitter.com/oauth/request_token"
            accessURL <- "http://api.twitter.com/oauth/access_token"
            authURL <- "http://api.twitter.com/oauth/authorize"
            consumerKey <- "DrLL7PfIzW66t0sMUPPFvA"
            consumerSecret <- "IDLFOfvQ9AQlFA2wQ70gTxR1VJufjH2ZntTXXU0L8"
            twitCred <- OAuthFactory$new(consumerKey=consumerKey,
                                         consumerSecret=consumerSecret,
                                         requestURL=reqURL,
                                         accessURL=accessURL,
                                         authURL=authURL)
    twitCred$handshake()
            registerTwitterOAuth(twitCred)
    twitCred$handshake()
      registerTwitterOAuth(twitCred)
twListToDF(searchTwitter('virunga',geocode='45.76,8.5565,10000km',n=20000))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
!is.na(kk[,15])->ind
kk2<-kk[ind,]
kk215<-as.numeric(kk2[,15])
kk216<-as.numeric(kk2[,16])
kk21<-kk2[,1]
kk25<-kk2[,5]
kk211<-kk2[,11]
kk3<-as.data.frame(cbind(kk215,kk216,kk21,kk25,kk211))
names(kk3)<-c('lon','lat','text','created','user')
kk3
kk
kk[,15]
kk[,16]
kk$text
dim(kk)
head(kk)
data<-read.table('Geolocation.csv',sep=',',header=T)
data<-read.table('Geolocation.csv',sep=',',header=T)
data<-read.table('Geolocation.csv',sep=',',header=T)
data<-scan('Geolocation.csv')
data<-read.table('Geolocation.csv',sep=',',header=T)
data<-read.table('geo2.csv',sep=',',header=T)
data<-read.table('geo2.csv',sep=',',header=T)
dim(data)
names(data)
head(data)
data2<-data[,6:7]
head(data2)
wirte.table('grid.csv',data2,sep='|',row.names=F)
write.table('grid.csv',data2,sep='|',row.names=F)
tail(data2)
write.table('grid.csv',data2,sep='|',row.names=F)
dim(data2)
head(data2)
data2
write.table('grid.csv',data2,sep='|',row.names=F)
write.table('grid.csv',data2[1:100,],sep='|',row.names=F)
head(data2)
names(data2)
dim(data2)
ls()
write.table('grid.csv',data,sep='|',row.names=F)
rm(data,data2)
data<-read.table('geo22.csv',sep='|',header=T)
data<-read.table('geo2.csv',sep='|',header=T)
dim(data)
header(data)
head(data)
data<-read.table('data.csv',sep='|',header=T)
head(data)
dim(data)
library(sp)
library(rgdal)
d<-SpatialPointsDataFrame(data)
d<-SpatialPointsDataFrame(data,data)
d
plot(d)
d@coords
plot(d)
q()
library(sp)
library(rgdal)
d<-SpatialPointsDataFrame(rownames(data),data)
rownames(data)
str(data)
dim(data)
d<-SpatialPointsDataFrame(rownames(data),data[,1:2])
d<-SpatialPointsDataFrame(rownames(data),data[-1,1:2])
d<-SpatialPointsDataFrame(rownames(data),data[,1:2])
help(SpatialPointsDataFrame)
d<-SpatialPointsDataFrame(data[,1:2])
d<-SpatialPointsDataFrame(data[,1:2],rownames(data))
kk3
kk2
d<-SpatialPointsDataFrame(rownames(data),data[,2:1])
d<-SpatialPointsDataFrame(data,data[,2:1])
plot(d)
writeOGR(d, 'd.geojson', 'd', driver='GeoJSON')
q()
library(twitteR)
library(maps)
    reqURL <- "https://api.twitter.com/oauth/request_token"
            accessURL <- "http://api.twitter.com/oauth/access_token"
            authURL <- "http://api.twitter.com/oauth/authorize"
            consumerKey <- "DrLL7PfIzW66t0sMUPPFvA"
            consumerSecret <- "IDLFOfvQ9AQlFA2wQ70gTxR1VJufjH2ZntTXXU0L8"
            twitCred <- OAuthFactory$new(consumerKey=consumerKey,
                                         consumerSecret=consumerSecret,
                                         requestURL=reqURL,
                                         accessURL=accessURL,
                                         authURL=authURL)
    twitCred$handshake()
            registerTwitterOAuth(twitCred)
twListToDF(searchTwitter('virunga',geocode='29,-1.3,100km',n=200))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
twListToDF(searchTwitter('virunga',geocode='-1.3,29,100km',n=200))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
kk
twListToDF(searchTwitter('virunga',geocode='-1.3,29,1000km',n=200))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
library(sp)
library(rgdal)
!is.na(kk[,15])->ind
kk2<-kk[ind,]
kk215<-as.numeric(kk2[,15])
kk216<-as.numeric(kk2[,16])
kk21<-kk2[,1]
kk25<-kk2[,5]
kk211<-kk2[,11]
kk3<-as.data.frame(cbind(kk215,kk216,kk21,kk25,kk211))
names(kk3)<-c('lon','lat','text','created','user')
kkSP <- SpatialPointsDataFrame(kk3, kk2[,-c(15,16)])
invisible(system('rm kk.geojson'))
writeOGR(kkSP, 'kk.geojson', 'kkSP', driver='GeoJSON')
write.table(kk3,'data.csv',sep='|',row.names=F)
kk
kk[,15]
kk[,16]
twListToDF(searchTwitter('virunga',geocode='-1.3,29,10000km',n=500))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
kk[,16]
twListToDF(searchTwitter('virunga',geocode='-1.3,29,20000km',n=5000))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
twListToDF(searchTwitter('virunga',geocode='1,38,1000km',n=500))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
kk[,15]
ind
table(ind)
twListToDF(searchTwitter('virunga',geocode='-1,38,1000km',n=500))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
table(ind)
twListToDF(searchTwitter('virunga',geocode='38,-1,1000km',n=500))->kk;plot(kk[,15],kk[,16],col=3,cex=2,pch=8);points(y=45.76,x=8.5565,col=2,pch=4,cex=1);map('italy',add=T)
table(ind)
twListToDF(searchTwitter('virunga',geocode='29,-1.3,100km',n=200))->kk;!is.na(kk[,15])->ind;table(ind)
table(ind)
twListToDF(searchTwitter('virunga',geocode='38,-1,1000km',n=200))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='38,-1,1000km',n=200))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='38,-1,10000km',n=200))->kk;!is.na(kk[,15])->ind;table(ind)
kk[,15]
twListToDF(searchTwitter('virunga',geocode='38,-1,10000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='39,1,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
ind
kk
twListToDF(searchTwitter('virunga',geocode='39,1,100km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='39,1,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='38,-1,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='46,8,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='52,8,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='52,-8,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='40,-75,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-15,-75,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-10,-75,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-10,-75,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-10,-50,1000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-10,-50,2000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-10,-50,3000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-10,-50,2000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
kk$text
twListToDF(searchTwitter('virunga',geocode='-10,20,5000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='25,80,5000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-30,130,5000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-30,130,10000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
twListToDF(searchTwitter('virunga',geocode='-30,130,20000km',n=2000))->kk;!is.na(kk[,15])->ind;table(ind)
q()
